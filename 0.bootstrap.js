(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[0],{

/***/ "./rust/pkg/wasm_game_of_life.js":
/*!***************************************!*\
  !*** ./rust/pkg/wasm_game_of_life.js ***!
  \***************************************/
/*! exports provided: Cell, UniverseMode, Universe, __widl_f_time_with_label_, __widl_f_time_end_with_label_, __wbindgen_throw */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Cell\", function() { return Cell; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UniverseMode\", function() { return UniverseMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Universe\", function() { return Universe; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__widl_f_time_with_label_\", function() { return __widl_f_time_with_label_; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__widl_f_time_end_with_label_\", function() { return __widl_f_time_end_with_label_; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbindgen_throw\", function() { return __wbindgen_throw; });\n/* harmony import */ var _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wasm_game_of_life_bg.wasm */ \"./rust/pkg/wasm_game_of_life_bg.wasm\");\n\n\nconst lTextDecoder = typeof TextDecoder === 'undefined' ? __webpack_require__(/*! util */ \"./node_modules/util/util.js\").TextDecoder : TextDecoder;\n\nlet cachedTextDecoder = new lTextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n\ncachedTextDecoder.decode();\n\nlet cachegetUint8Memory0 = null;\nfunction getUint8Memory0() {\n    if (cachegetUint8Memory0 === null || cachegetUint8Memory0.buffer !== _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer) {\n        cachegetUint8Memory0 = new Uint8Array(_wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer);\n    }\n    return cachegetUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nlet cachegetInt32Memory0 = null;\nfunction getInt32Memory0() {\n    if (cachegetInt32Memory0 === null || cachegetInt32Memory0.buffer !== _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer) {\n        cachegetInt32Memory0 = new Int32Array(_wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer);\n    }\n    return cachegetInt32Memory0;\n}\n/**\n*/\nconst Cell = Object.freeze({ Dead:0,Alive:1, });\n/**\n*/\nconst UniverseMode = Object.freeze({ FixedSizePeriodic:0,FixedSizeNonPeriodic:1, });\n/**\n*/\nclass Universe {\n\n    static __wrap(ptr) {\n        const obj = Object.create(Universe.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    free() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbg_universe_free\"](ptr);\n    }\n    /**\n    */\n    tick() {\n        _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"universe_tick\"](this.ptr);\n    }\n    /**\n    * @param {number} width\n    * @param {number} height\n    * @param {number} mode\n    * @returns {Universe}\n    */\n    static new(width, height, mode) {\n        var ret = _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"universe_new\"](width, height, mode);\n        return Universe.__wrap(ret);\n    }\n    /**\n    * @param {number} width\n    * @param {number} height\n    */\n    reinit_cells(width, height) {\n        _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"universe_reinit_cells\"](this.ptr, width, height);\n    }\n    /**\n    * @param {number} mode\n    */\n    set_mode(mode) {\n        _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"universe_set_mode\"](this.ptr, mode);\n    }\n    /**\n    * @param {number} row\n    * @param {number} col\n    */\n    toggle_cell(row, col) {\n        _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"universe_toggle_cell\"](this.ptr, row, col);\n    }\n    /**\n    * @param {number} row\n    * @param {number} col\n    */\n    set_alive(row, col) {\n        _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"universe_set_alive\"](this.ptr, row, col);\n    }\n    /**\n    * @param {number} row\n    * @param {number} col\n    */\n    set_dead(row, col) {\n        _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"universe_set_dead\"](this.ptr, row, col);\n    }\n    /**\n    * @returns {number}\n    */\n    width() {\n        var ret = _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"universe_width\"](this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @returns {number}\n    */\n    height() {\n        var ret = _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"universe_height\"](this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @returns {number}\n    */\n    cells() {\n        var ret = _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"universe_cells\"](this.ptr);\n        return ret;\n    }\n    /**\n    * @returns {number}\n    */\n    webgl_colors() {\n        var ret = _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"universe_webgl_colors\"](this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} size_coef\n    * @returns {number}\n    */\n    webgl_vertices(size_coef) {\n        var ret = _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"universe_webgl_vertices\"](this.ptr, size_coef);\n        return ret;\n    }\n    /**\n    * @returns {string}\n    */\n    render_string() {\n        try {\n            _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"universe_render_string\"](8, this.ptr);\n            var r0 = getInt32Memory0()[8 / 4 + 0];\n            var r1 = getInt32Memory0()[8 / 4 + 1];\n            return getStringFromWasm0(r0, r1);\n        } finally {\n            _wasm_game_of_life_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_free\"](r0, r1);\n        }\n    }\n}\n\nconst __widl_f_time_with_label_ = function(arg0, arg1) {\n    console.time(getStringFromWasm0(arg0, arg1));\n};\n\nconst __widl_f_time_end_with_label_ = function(arg0, arg1) {\n    console.timeEnd(getStringFromWasm0(arg0, arg1));\n};\n\nconst __wbindgen_throw = function(arg0, arg1) {\n    throw new Error(getStringFromWasm0(arg0, arg1));\n};\n\n\n\n//# sourceURL=webpack:///./rust/pkg/wasm_game_of_life.js?");

/***/ }),

/***/ "./rust/pkg/wasm_game_of_life_bg.wasm":
/*!********************************************!*\
  !*** ./rust/pkg/wasm_game_of_life_bg.wasm ***!
  \********************************************/
/*! exports provided: memory, __wbg_universe_free, universe_tick, universe_new, universe_reinit_cells, universe_set_mode, universe_toggle_cell, universe_set_alive, universe_set_dead, universe_width, universe_height, universe_cells, universe_webgl_colors, universe_webgl_vertices, universe_render_string, __wbindgen_free */
/***/ (function(module, exports, __webpack_require__) {

eval("\"use strict\";\n// Instantiate WebAssembly module\nvar wasmExports = __webpack_require__.w[module.i];\n__webpack_require__.r(exports);\n// export exports from WebAssembly module\nfor(var name in wasmExports) if(name != \"__webpack_init__\") exports[name] = wasmExports[name];\n// exec imports from WebAssembly module (for esm order)\n/* harmony import */ var m0 = __webpack_require__(/*! ./wasm_game_of_life.js */ \"./rust/pkg/wasm_game_of_life.js\");\n\n\n// exec wasm module\nwasmExports[\"__webpack_init__\"]()\n\n//# sourceURL=webpack:///./rust/pkg/wasm_game_of_life_bg.wasm?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var wasm_game_of_life_rust__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! wasm-game-of-life-rust */ \"./rust/pkg/wasm_game_of_life.js\");\n/* harmony import */ var _life__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./life */ \"./src/life/index.js\");\n // eslint-disable-line import/no-unresolved\n\n\nconst canvas = document.getElementById('game-of-life-canvas');\n\nconst setCanvasSize = () => {\n    const { width, height } = document.getElementById('scene-container').getBoundingClientRect();\n    const size = Math.min(width, height);\n    canvas.width = size | 0;\n    canvas.height = size | 0;\n};\n\nsetCanvasSize();\n\nlet size = document.getElementById('universe-options').elements['universe-size'].value;\nlet universeRows = size;\nlet universeColumns = size;\nconst universe = wasm_game_of_life_rust__WEBPACK_IMPORTED_MODULE_0__[\"Universe\"].new(\n    universeRows,\n    universeColumns,\n    wasm_game_of_life_rust__WEBPACK_IMPORTED_MODULE_0__[\"UniverseMode\"].FixedSizePeriodic,\n);\n\nconst CELL_SIZE_COEF = 0.9;\n\n_life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].scene.init(canvas, universeRows, universeColumns);\n_life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].scene.attachVertices(universe.webgl_vertices(CELL_SIZE_COEF));\n\nconst renderScene = () => {\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].scene.attachColors(universe.webgl_colors());\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].scene.draw();\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].scene.cleanupColors();\n};\n\nlet isRunning = false;\n\nconst loop = () => {\n    if (!isRunning) return;\n    renderScene();\n    universe.tick();\n    requestAnimationFrame(loop);\n};\n\nwindow.addEventListener('resize', () => {\n    setCanvasSize();\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].scene.cleanup();\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].scene.init(canvas, universeRows, universeColumns);\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].scene.attachVertices(universe.webgl_vertices(CELL_SIZE_COEF));\n    requestAnimationFrame(renderScene);\n});\n\n// prevent submit caused by space keyup\ndocument.addEventListener('keyup', (event) => {\n    if (event.code === 'Space') {\n        event.preventDefault();\n    }\n});\n\ndocument.addEventListener('keydown', (event) => {\n    if (event.code === 'Space') {\n        event.preventDefault();\n        universe.tick();\n        requestAnimationFrame(renderScene);\n    }\n\n    if (event.code === 'KeyR' && !isRunning) {\n        isRunning = true;\n        requestAnimationFrame(loop);\n    }\n\n    if (event.code === 'KeyS' && isRunning) {\n        isRunning = false;\n    }\n});\n\nconst LEFT_BUTTON = 1;\nconst RIGHT_BUTTON = 3;\n\n_life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].controller.init(canvas, universeColumns, universeRows);\n\nconst addListeners = () => {\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].controller.addClickListener(LEFT_BUTTON, (row, col) => {\n        universe.set_alive(row, col);\n        requestAnimationFrame(renderScene);\n    });\n\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].controller.addClickListener(RIGHT_BUTTON, (row, col) => {\n        universe.set_dead(row, col);\n        requestAnimationFrame(renderScene);\n    });\n\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].controller.addMousePressedListener(LEFT_BUTTON, (row, col) => {\n        universe.set_alive(row, col);\n        requestAnimationFrame(renderScene);\n    });\n\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].controller.addMousePressedListener(RIGHT_BUTTON, (row, col) => {\n        universe.set_dead(row, col);\n        requestAnimationFrame(renderScene);\n    });\n\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].controller.addWheelListener((event) => {\n        event.preventDefault();\n        _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].camera.changeScaleFactor(event.deltaY * -0.001);\n        requestAnimationFrame(renderScene);\n    });\n};\naddListeners();\n\ndocument.getElementById('universe-options').addEventListener('submit', (event) => {\n    event.preventDefault();\n    isRunning = false;\n    size = event.target.elements['universe-size'].value;\n    const mode = event.target.elements['universe-mode'].value;\n    if (mode === 'periodic') {\n        universe.set_mode(wasm_game_of_life_rust__WEBPACK_IMPORTED_MODULE_0__[\"UniverseMode\"].FixedSizePeriodic);\n    }\n    if (mode === 'non-periodic') {\n        universe.set_mode(wasm_game_of_life_rust__WEBPACK_IMPORTED_MODULE_0__[\"UniverseMode\"].FixedSizeNonPeriodic);\n    }\n    universeRows = size;\n    universeColumns = size;\n    universe.reinit_cells(universeRows, universeColumns);\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].scene.cleanup();\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].scene.init(canvas, universeRows, universeColumns);\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].scene.attachVertices(universe.webgl_vertices(CELL_SIZE_COEF));\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].controller.cleanupListeners();\n    _life__WEBPACK_IMPORTED_MODULE_1__[\"life\"].controller.init(canvas, universeColumns, universeRows);\n    addListeners();\n    requestAnimationFrame(renderScene);\n});\n\nrequestAnimationFrame(renderScene);\n\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/life/camera/index.js":
/*!**********************************!*\
  !*** ./src/life/camera/index.js ***!
  \**********************************/
/*! exports provided: camera */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"camera\", function() { return camera; });\nconst camera = {\n    scaleFactor: 1.0,\n    X: 0.0,\n    Y: 0.0,\n    changeScaleFactor(delta) {\n        this.scaleFactor = Math.max(this.scaleFactor + delta * this.scaleFactor, 1.0);\n    },\n};\n\n\n//# sourceURL=webpack:///./src/life/camera/index.js?");

/***/ }),

/***/ "./src/life/controller/index.js":
/*!**************************************!*\
  !*** ./src/life/controller/index.js ***!
  \**************************************/
/*! exports provided: init, getEventCoords, addMousePressedListener, addClickListener, addWheelListener, cleanupListeners */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getEventCoords\", function() { return getEventCoords; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addMousePressedListener\", function() { return addMousePressedListener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addClickListener\", function() { return addClickListener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addWheelListener\", function() { return addWheelListener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cleanupListeners\", function() { return cleanupListeners; });\n/* harmony import */ var _camera__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../camera */ \"./src/life/camera/index.js\");\n\n\nlet rows;\nlet cols;\nlet colSize;\nlet rowSize;\nlet canvas;\nlet canvasLeft;\nlet canvasTop;\nlet mouseDownListeners = [];\nlet mouseUpListeners = [];\nlet mouseMoveListeners = [];\nlet documentMouseUpListeners = [];\nlet wheelListener = null;\n\nconst init = (canvas_, cols_, rows_) => {\n    canvas = canvas_;\n    cols = cols_;\n    rows = rows_;\n    colSize = canvas.width / cols_;\n    rowSize = canvas.height / rows_;\n    const boundingRect = canvas.getBoundingClientRect();\n    canvasTop = boundingRect.top;\n    canvasLeft = boundingRect.left;\n};\n\nconst getEventCoords = (event) => {\n    const cameraX = _camera__WEBPACK_IMPORTED_MODULE_0__[\"camera\"].X + canvas.width / 2;\n    const cameraY = _camera__WEBPACK_IMPORTED_MODULE_0__[\"camera\"].Y + canvas.height / 2;\n\n    const relX = event.clientX - canvasLeft;\n    const relY = event.clientY - canvasTop;\n\n    const sceneX = (relX - cameraX) / _camera__WEBPACK_IMPORTED_MODULE_0__[\"camera\"].scaleFactor + cameraX;\n    const sceneY = (relY - cameraY) / _camera__WEBPACK_IMPORTED_MODULE_0__[\"camera\"].scaleFactor + cameraY;\n\n    const col = Math.min((sceneX / colSize) | 0, cols - 1);\n    const row = Math.min((sceneY / rowSize) | 0, rows - 1);\n\n    return { col, row };\n};\n\nconst addMousePressedListener = (btnNum, listener) => {\n    let isPressed = false;\n    const handleMouseDown = (event) => {\n        event.preventDefault();\n        if (event.which === btnNum) {\n            isPressed = true;\n        }\n    };\n    mouseDownListeners.push(handleMouseDown);\n    canvas.addEventListener('mousedown', handleMouseDown);\n\n    const handleMouseUp = (event) => {\n        if (event.which === btnNum) {\n            isPressed = false;\n        }\n    };\n    documentMouseUpListeners.push(handleMouseUp);\n    document.addEventListener('mouseup', handleMouseUp);\n\n    const handleMouseMove = (event) => {\n        event.preventDefault();\n        if (isPressed === true && event.which === btnNum) {\n            const { row, col } = getEventCoords(event);\n            listener(row, col);\n        }\n    };\n    mouseMoveListeners.push(handleMouseMove);\n    canvas.addEventListener('mousemove', handleMouseMove);\n};\n\nconst addClickListener = (button, listener) => {\n    let row;\n    let col;\n    const handleMouseDown = (event) => {\n        event.preventDefault();\n        if (event.which !== button) return;\n        const downCoords = getEventCoords(event);\n        row = downCoords.row;\n        col = downCoords.col;\n    };\n    mouseDownListeners.push(handleMouseDown);\n    canvas.addEventListener('mousedown', handleMouseDown);\n\n    const handleMouseUp = (event) => {\n        event.preventDefault();\n        if (event.which !== button) return;\n        const upCoords = getEventCoords(event);\n        if (upCoords.row === row && upCoords.col === col) {\n            listener(row, col);\n        }\n    };\n    mouseUpListeners.push(handleMouseUp);\n    canvas.addEventListener('mouseup', handleMouseUp);\n};\n\nconst addWheelListener = (listener) => {\n    wheelListener = listener;\n    canvas.addEventListener('wheel', wheelListener);\n};\n\nconst cleanupListeners = () => {\n    mouseDownListeners.forEach((listener) => {\n        canvas.removeEventListener('mousedown', listener);\n    });\n    mouseDownListeners = [];\n    mouseMoveListeners.forEach((listener) => {\n        canvas.removeEventListener('mousemove', listener);\n    });\n    mouseMoveListeners = [];\n    mouseUpListeners.forEach((listener) => {\n        canvas.removeEventListener('mouseup', listener);\n    });\n    mouseUpListeners = [];\n    documentMouseUpListeners.forEach((listener) => {\n        document.removeEventListener('mouseup', listener);\n    });\n    documentMouseUpListeners = [];\n    canvas.removeEventListener('wheel', wheelListener);\n};\n\n\n//# sourceURL=webpack:///./src/life/controller/index.js?");

/***/ }),

/***/ "./src/life/index.js":
/*!***************************!*\
  !*** ./src/life/index.js ***!
  \***************************/
/*! exports provided: life */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"life\", function() { return life; });\n/* harmony import */ var _webgl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./webgl */ \"./src/life/webgl/index.js\");\n/* harmony import */ var _controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./controller */ \"./src/life/controller/index.js\");\n/* harmony import */ var _camera__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./camera */ \"./src/life/camera/index.js\");\n\n\n\n\nconst life = {\n    scene: _webgl__WEBPACK_IMPORTED_MODULE_0__,\n    controller: _controller__WEBPACK_IMPORTED_MODULE_1__,\n    camera: _camera__WEBPACK_IMPORTED_MODULE_2__[\"camera\"],\n};\n\n\n//# sourceURL=webpack:///./src/life/index.js?");

/***/ }),

/***/ "./src/life/webgl/fragment-shader.js":
/*!*******************************************!*\
  !*** ./src/life/webgl/fragment-shader.js ***!
  \*******************************************/
/*! exports provided: fsSource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fsSource\", function() { return fsSource; });\nconst fsSource = `\nvarying lowp vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}\n`;\n\n\n//# sourceURL=webpack:///./src/life/webgl/fragment-shader.js?");

/***/ }),

/***/ "./src/life/webgl/index.js":
/*!*********************************!*\
  !*** ./src/life/webgl/index.js ***!
  \*********************************/
/*! exports provided: cleanup, init, cleanupVertices, attachVertices, cleanupColors, attachColors, draw */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cleanup\", function() { return cleanup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cleanupVertices\", function() { return cleanupVertices; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"attachVertices\", function() { return attachVertices; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cleanupColors\", function() { return cleanupColors; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"attachColors\", function() { return attachColors; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"draw\", function() { return draw; });\n/* harmony import */ var wasm_game_of_life_rust_wasm_game_of_life_bg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! wasm-game-of-life-rust/wasm_game_of_life_bg */ \"./rust/pkg/wasm_game_of_life_bg.wasm\");\n/* harmony import */ var _vertex_shader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vertex-shader */ \"./src/life/webgl/vertex-shader.js\");\n/* harmony import */ var _fragment_shader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fragment-shader */ \"./src/life/webgl/fragment-shader.js\");\n/* harmony import */ var _camera__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../camera */ \"./src/life/camera/index.js\");\n // eslint-disable-line\n\n\n\n\nlet gl;\nlet program;\nlet verticesBuffer;\nlet colorsBuffer;\nlet cellsLen;\nlet vertexArrayLen;\nlet colorsArrayLen;\nlet verticesLen;\n\nconst cleanup = () => {\n    gl.useProgram(null);\n    if (verticesBuffer) gl.deleteBuffer(verticesBuffer);\n    if (colorsBuffer) gl.deleteBuffer(colorsBuffer);\n    if (program) gl.deleteProgram(program);\n};\n\nconst setRenderingContext = (canvas) => {\n    gl = canvas.getContext('webgl', { antialias: true }) || canvas.getContext('experimental-webgl');\n    if (!gl) {\n        console.error('Failed to get WebGL context.Your browser or device may not support WebGL.');\n    }\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n};\n\nconst linkProgram = () => {\n    const vertexShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(vertexShader, _vertex_shader__WEBPACK_IMPORTED_MODULE_1__[\"vsSource\"]);\n    gl.compileShader(vertexShader);\n    const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragmentShader, _fragment_shader__WEBPACK_IMPORTED_MODULE_2__[\"fsSource\"]);\n    gl.compileShader(fragmentShader);\n\n    program = gl.createProgram();\n\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    gl.detachShader(program, vertexShader);\n    gl.detachShader(program, fragmentShader);\n    gl.deleteShader(vertexShader);\n    gl.deleteShader(fragmentShader);\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        const linkErrLog = gl.getProgramInfoLog(program);\n        cleanup();\n        throw new Error(`Shader program did not link successfully. Error log: ${linkErrLog}`);\n    }\n};\n\nconst init = (canvas, width, height) => {\n    setRenderingContext(canvas);\n    if (gl === null) return;\n    linkProgram();\n    cellsLen = width * height;\n    vertexArrayLen = 12 * cellsLen;\n    colorsArrayLen = 6 * cellsLen;\n    verticesLen = 6 * cellsLen;\n};\n\nconst cleanupVertices = () => {\n    gl.deleteBuffer(verticesBuffer);\n};\n\nconst attachVertices = (vertexPtr) => {\n    const aVertexPosition = gl.getAttribLocation(program, 'aVertexPosition');\n    gl.enableVertexAttribArray(aVertexPosition);\n    const vertexArray = new Float32Array(wasm_game_of_life_rust_wasm_game_of_life_bg__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer, vertexPtr, vertexArrayLen);\n    verticesBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, verticesBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, vertexArray, gl.STATIC_DRAW);\n    gl.vertexAttribPointer(aVertexPosition, 2, gl.FLOAT, false, 0, 0);\n};\n\nconst cleanupColors = () => {\n    gl.deleteBuffer(colorsBuffer);\n};\n\nconst attachColors = (colorsPtr) => {\n    const aVertexColor = gl.getAttribLocation(program, 'aVertexColor');\n    gl.enableVertexAttribArray(aVertexColor);\n    const colorsArray = new Uint8Array(wasm_game_of_life_rust_wasm_game_of_life_bg__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer, colorsPtr, colorsArrayLen);\n    colorsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, colorsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, colorsArray, gl.STATIC_DRAW);\n    gl.vertexAttribPointer(aVertexColor, 1, gl.UNSIGNED_BYTE, false, 0, 0);\n};\n\nconst draw = () => {\n    gl.useProgram(program);\n    const uScaleFactor = gl.getUniformLocation(program, 'uScaleFactor');\n    gl.uniform2fv(uScaleFactor, [_camera__WEBPACK_IMPORTED_MODULE_3__[\"camera\"].scaleFactor, _camera__WEBPACK_IMPORTED_MODULE_3__[\"camera\"].scaleFactor]);\n    gl.drawArrays(gl.TRIANGLES, 0, verticesLen);\n};\n\n\n//# sourceURL=webpack:///./src/life/webgl/index.js?");

/***/ }),

/***/ "./src/life/webgl/vertex-shader.js":
/*!*****************************************!*\
  !*** ./src/life/webgl/vertex-shader.js ***!
  \*****************************************/
/*! exports provided: vsSource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"vsSource\", function() { return vsSource; });\nconst vsSource = `\nattribute vec2 aVertexPosition;\nattribute float aVertexColor;\nuniform vec2 uScaleFactor;\nvarying lowp vec4 vColor;\nvoid main() {\n    gl_Position = vec4(aVertexPosition * uScaleFactor, 0.0, 1.0);\n    if (aVertexColor > 0.5) {\n        vColor = vec4(0.78, 0.78, 0.78, 1.0);\n    } else {\n        vColor = vec4(0.157, 0.157, 0.201, 1.0);\n    }\n}\n`;\n\n\n//# sourceURL=webpack:///./src/life/webgl/vertex-shader.js?");

/***/ })

}]);